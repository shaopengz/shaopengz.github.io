<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Java8 PartII · Shaopeng Zhang's Site</title><meta name="description" content="Java8 PartII - Shaopeng Zhang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://shaopengz.ml/atom.xml" title="Shaopeng Zhang's Site"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/zsp1987" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/shaopengz" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Java8 PartII</h1><div class="post-info">May 15, 2015</div><div class="post-content"><h2 id="Default-Methods"><a href="#Default-Methods" class="headerlink" title="Default Methods"></a>Default Methods</h2><p>This feature is wired when I first time hear it. Because I always thought that for a interface, method inside it should be leaving blank and just provide signatures.</p>
<p>However, Java 8 bring in  a new keyword <code>default</code> in interface, when you want a default implement for a interface method. for example.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Printer</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</div><div class="line">		System.out.print(<span class="string">"I am a printer"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Wow, you implement a method in a interface, so what is the difference between interface and class. It seems very unreasonable to add this feature to interface, because it confuse the boundary between class(abstract) and interface.</p>
<p>However, it is useful for legency libraries. Especially if you want to add some new method to a exsiting class. For example, <strong>Collections and Set</strong> in Java 8 have a new method called <strong>foreach</strong>. As the Java document says, The old way we do it is to rewrite the interface, and rewirte each class, that may cause problem. So they add default implementation in the interface so the subclass will automatic have the method. (but why not rewrite abstract class and interface? )</p>
<p>Now, What about two interface have the same default method. e.g.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Printer1</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</div><div class="line">		System.out.print(<span class="string">"I am a printer"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Printer2</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</div><div class="line">		System.out.print(<span class="string">"I am a printer"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Two ways to solve.</p>
<ol>
<li>implement it in your child class.</li>
<li>explicitly call with <code>super</code>, <code>Printer1.super.print()</code>.</li>
</ol>
<p>Another interesting fact is that interface now can have static method as the helper method for default method.~~~!!!!!!!!!</p>
</div></article></div></main><footer><div class="paginator"><a href="/2015/06/15/fix-protocol-knowledge/" class="prev">PREV</a><a href="/2015/05/13/Java8-part1/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://shaopengz.ml">Shaopeng Zhang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>